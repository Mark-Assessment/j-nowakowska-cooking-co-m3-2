{% extends "base.html" %}
{% block content %}

<h3>Edit Recipe</h3>

<div class="row">
    <form class="" method="POST" action="{{ url_for('edit_recipe', recipe_id=recipe.id) }}">
        <!-- name of the recipe  -->
        <div class="row">
            <div class="input-field d-grid gap-2 col-6 mx-auto">
                <label for="recipe_name">Recipe Name</label>
                <input id="recipe_name" name="recipe_name" value="{{ recipe.recipe_name }}" minlength="3" maxlength="60" type="text" class="validate" required>
            </div>
        </div>
         <!-- description of the recipe  -->
         <div class="row">
            <div class="input-field d-grid gap-2 col-6 mx-auto">
                <label for="recipe_description">Recipe Description</label>
                <textarea id="recipe_description" name="recipe_description" minlength="3" maxlength="1000" type="text" class="validate" required>{{ recipe.recipe_description }}</textarea>
            </div>
        </div>
        <!-- ingredients for the recipe  -->
        <div class="row">
            <div class="input-field d-grid gap-2 col-6 mx-auto">
                <label for="recipe_ingredients">Recipe Ingredients</label>
                <textarea id="recipe_ingredients" name="recipe_ingredients" minlength="3" maxlength="1000" type="text" class="validate" required>{{ recipe.recipe_ingredients }}</textarea>
            </div>
        </div>
        <!--  Recipe method  -->
        <div class="row">
            <div class="input-field d-grid gap-2 col-6 mx-auto">
                <label for="recipe_method">Recipe Method</label>
                <textarea id="recipe_method" name="recipe_method" minlength="3" maxlength="1000" type="text" class="validate" required>{{ recipe.recipe_method }}</textarea>
            </div>
        </div>
        <!--  Recipe time -->
        <div class="row">
            <div class="input-field d-grid gap-2 col-6 mx-auto">
                <label for="recipe_time">Recipe Time</label>
                <input id="recipe_time" name="recipe_time" type="text" value=" {{ recipe.recipe_time }} " class="validate" required>
            </div>
        </div>
        <div class="row">
            <div class="input-field d-grid gap-2 col-6 mx-auto">
                <label for="recipe_image" class="form-label">
                 Recipe's Image (Url / Image's address)
                </label>
                <input type="text" id="recipe-image" class="form-control image-url" 
                name="recipe_image" value="{{recipe_image}}">
            </div>
        </div>
        <!-- Rendering image from url -->
        <div class="row">
            <img class="show-image" alt="display the image" 
                onerror="this.src='../../static/images/recipe-placeholder.png';"
                src="{{ url_for('static', filename='images/recipe-placeholder.png') }}">
        </div>
        <!-- Category ID-->
        <div class="row">
            <div class="input-field d-grid gap-2 col-6 mx-auto">
                <label for="category_id">Category</label>
                
                <select id="category_id" name="category_id" class="validate" class="form-select" aria-label="Default select example" required>
                    {% for category in categories %}
                        {% if category == recipe.category %}
                        <option value="{{ category.id }}" selected >{{ category.category_name }}</option>
                        {% else %}
                        <option value="{{ category.id }}">{{ category.category_name }}</option>
                        {% endif %}
                    {% endfor %}
                </select>
                <option selected value="" disabled>Choose Category</option>
            </div>
        </div>
        <!-- the submit button -->
        <div class="row">
            <div class="d-grid gap-2 col-6 mx-auto">
                <button type="submit" class="edit-rec btn">
                    Edit Recipe 
                </button>
                <a href="{{ url_for('home') }}" class="btn close">Cancel</a>
            </div>
            
        </div>
    </form>
</div>

{% endblock %}